@import "tailwindcss";

/* ===============================
   1. THEMES
   =============================== */
@layer base {
  :root {
    --primary: #2563eb;
    --primary-dark: #1e40af;
    --secondary: #eff6ff;
    --font-sans: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
  }

  [data-theme='nature'] {
    --primary: #059669;
    --primary-dark: #064e3b;
    --secondary: #ecfdf5;
    --font-sans: "Segoe UI", "Helvetica Neue", Arial, sans-serif;
  }

  [data-theme='editorial'] {
    --primary: #be123c;
    --primary-dark: #881337;
    --secondary: #fff1f2;
    --font-sans: Georgia, "Times New Roman", serif;
  }

  body {
    font-family: var(--font-sans);
  }
}

/* ===============================
   2. TAILWIND TOKENS (v4)
   =============================== */
@theme {
  --color-primary: var(--primary);
  --color-primary-dark: var(--primary-dark);
  --color-secondary: var(--secondary);
  --font-sans: var(--font-sans);
}

/* 
   COMPONENTS
    */
@layer components {

  /* --- TAG PILL --- */
  .tag-pill {
    @apply
      px-3 py-1 text-xs font-medium rounded-full
      border border-transparent
      bg-gray-100 text-gray-600
      cursor-default
      transition-colors duration-200

      hover:bg-white
      hover:border-(--primary)
      hover:text-(--primary)
      hover:shadow-sm

      group-hover:bg-white
      group-hover:border-(--primary)
      group-hover:text-(--primary);
  }

  /* --- TYPOGRAPHY --- */
  .section-title {
    @apply text-2xl md:text-3xl font-bold mb-8 text-gray-900 flex items-center;
  }

  .text-body {
    @apply text-gray-600 leading-relaxed;
  }

  /* --- CARD SYSTEM --- */
  .card {
    @apply
      p-6 rounded-2xl
      bg-white
      border border-gray-200
      shadow-sm
      transition-all duration-300;
  }

  .card-hover {
    @apply
      hover:shadow-md
      hover:ring-1
      hover:ring-(--primary)/30
      focus-within:ring-1
      focus-within:ring-(--primary)/40;
  }

  /* --- BADGES --- */
  .badge {
    @apply px-2 py-1 text-xs font-medium rounded-md border transition-colors;
  }

  .badge-neutral {
    @apply bg-gray-100 text-gray-600 border-transparent;
  }

  .badge-primary {
    @apply bg-(--secondary) text-(--primary-dark) border-(--primary)/10;
  }

  /* --- BUTTONS --- */
  .btn {
    @apply px-8 py-4 font-semibold rounded-lg
           flex items-center justify-center
           transition-colors;
  }

  .btn-primary {
    @apply bg-(--primary) text-white
           hover:bg-(--primary-dark)
           shadow-lg shadow-(--primary)/20;
  }

  .btn-outline {
    @apply bg-white border border-gray-200 text-gray-500
           hover:text-(--primary)
           hover:border-(--primary);
  }

  /* --- NAVIGATION --- */
  .nav-item {
    @apply flex items-center gap-3 px-4 py-3
           text-sm font-medium rounded-lg
           cursor-pointer
           transition-all duration-200
           text-gray-600
           hover:bg-white
           hover:text-gray-900
           hover:shadow-sm;
  }

  .nav-indicator {
    @apply w-2 h-2 rounded-full
           border border-gray-300
           ml-auto
           shrink-0
           transition-colors duration-200;
  }

  .nav-item.active {
    @apply bg-white shadow-sm ring-1 ring-gray-200 text-(--primary);
  }

  .nav-item.active .nav-indicator {
    @apply bg-(--primary-dark) border-(--primary);
  }

  .nav-item:hover .nav-indicator {
    @apply border-(--primary);
  }

  /* --- ICONS --- */
  .icon-soft,
  .icon-box {
    @apply p-2 rounded-lg
           bg-(--primary)/10
           text-(--primary)
           flex items-center justify-center
           transition-colors duration-200;
  }

  .group:hover .icon-box {
    @apply bg-(--primary)/20 text-(--primary-dark);
  }

  /* --- TIMELINE --- */
  .timeline-item {
    /* REMOVED 'group' to fix the crash */
    @apply relative border-l-2 border-gray-200 pl-8 pb-8 last:pb-0 
           transition-colors duration-300 
           hover:border-(--primary);
  }

  .timeline-dot {
    @apply absolute -left-2.25 top-0 h-4 w-4 rounded-full border-2 
           bg-white border-(--primary)/50 
           transition-colors duration-300;
  }
  
  .timeline-item:hover .timeline-dot {
    @apply border-(--primary);
  }

  .timeline-item:hover h3 {
    @apply text-(--primary);
  }

  .timeline-dot.active {
    @apply bg-(--primary) border-(--primary);
  }
}
