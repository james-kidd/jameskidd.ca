@import "tailwindcss";

/* ===============================
   1. THEMES
   =============================== */
@layer base {
  :root {
    --primary: #2563eb;
    --primary-dark: #1e40af;
    --secondary: #eff6ff;
    --font-sans: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
    --surface: #ffffff;
    --surface-muted: #f8fafc;
    --border: #e5e7eb;
    --text-strong: #0f172a;
    --text-muted: #475569;
    --shadow-soft: 0 12px 40px -26px rgba(15, 23, 42, 0.18);
    --shadow-hover: 0 18px 52px -28px rgba(15, 23, 42, 0.22);
    --radius-lg: 18px;
  }

  [data-theme='nature'] {
    --primary: #059669;
    --primary-dark: #064e3b;
    --secondary: #ecfdf5;
    --font-sans: "Segoe UI", "Helvetica Neue", Arial, sans-serif;
    --surface-muted: #f0fdf4;
    --border: #d1fae5;
  }

  [data-theme='editorial'] {
    --primary: #be123c;
    --primary-dark: #881337;
    --secondary: #fff1f2;
    --font-sans: Georgia, "Times New Roman", serif;
    --surface-muted: #fff7fb;
    --border: #ffe4ed;
  }

  body {
    font-family: var(--font-sans);
    background: var(--surface-muted);
    color: var(--text-strong);
    line-height: 1.6;
  }
}

/* ===============================
   2. TAILWIND TOKENS (v4)
   =============================== */
@theme {
  --color-primary: var(--primary);
  --color-primary-dark: var(--primary-dark);
  --color-secondary: var(--secondary);
  --font-sans: var(--font-sans);
}

/* 
   COMPONENTS
    */
@layer components {
  /* --- SECTION SYSTEM --- */
  .section-block {
    @apply py-16 md:py-20 border-t;
    border-color: var(--border);
  }

  .section-shell {
    @apply space-y-10 lg:space-y-12;
  }

  .section-lead {
    @apply text-lg md:text-xl font-light;
    color: var(--text-muted);
  }

  .eyebrow {
    @apply text-[11px] font-semibold uppercase tracking-[0.28em];
    color: var(--primary-dark);
    letter-spacing: 0.24em;
  }

  .section-grid {
    @apply grid gap-6 md:gap-8;
  }

  .section-surface {
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: var(--radius-lg);
    box-shadow: var(--shadow-soft);
  }

  .surface-muted {
    background: var(--surface-muted);
    border: 1px solid var(--border);
    border-radius: var(--radius-lg);
  }

  .section-panel {
    @apply p-6 md:p-8;
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: var(--radius-lg);
    box-shadow: var(--shadow-soft);
  }

  /* --- TAG PILL --- */
  .tag-pill {
    @apply
      px-3 py-1 text-xs font-medium rounded-full
      border border-transparent
      bg-gray-100 text-gray-600
      cursor-default
      transition-colors duration-200

      hover:bg-white
      hover:border-(--primary)
      hover:text-(--primary)
      hover:shadow-sm

      group-hover:bg-white
      group-hover:border-(--primary)
      group-hover:text-(--primary);
  }

  /* --- TYPOGRAPHY --- */
  .section-title {
    @apply text-2xl md:text-3xl font-bold mb-8 flex items-center gap-3;
    color: var(--text-strong);
  }

  .text-body {
    @apply leading-relaxed;
    color: var(--text-muted);
  }

  /* --- CARD SYSTEM --- */
  .card {
    @apply p-6 rounded-2xl transition-all duration-300;
    background: var(--surface);
    border: 1px solid var(--border);
    box-shadow: var(--shadow-soft);
    transition-property: transform, box-shadow, border-color, background-color;
  }

  .card-hover {
    @apply
      hover:-translate-y-0.5
      hover:ring-1
      hover:ring-(--primary)/20
      focus-within:ring-1
      focus-within:ring-(--primary)/30;
  }

  .card-hover:hover,
  .card-hover:focus-within {
    box-shadow: var(--shadow-hover);
  }

  /* --- BADGES --- */
  .badge {
    @apply px-2 py-1 text-xs font-medium rounded-md border transition-colors;
  }

  .badge-neutral {
    @apply bg-gray-100 text-gray-600 border-transparent;
  }

  .badge-primary {
    @apply bg-(--secondary) text-(--primary-dark) border-(--primary)/10;
  }

  /* --- BUTTONS --- */
  .btn {
    @apply px-8 py-4 font-semibold rounded-lg
           flex items-center justify-center
           transition-colors;
  }

  .btn-primary {
    @apply bg-(--primary) text-white
           hover:bg-(--primary-dark)
           shadow-lg shadow-(--primary)/20;
  }

  .btn-outline {
    @apply bg-white border border-gray-200 text-gray-500
           hover:text-(--primary)
           hover:border-(--primary);
  }

  .btn-pill {
    @apply inline-flex items-center gap-2 px-6 py-2 rounded-full text-sm font-medium
           border shadow-sm transition-all active:scale-95;
    background: var(--surface);
    border-color: var(--border);
    color: var(--text-muted);
  }

  .btn-pill:hover,
  .btn-pill:focus-visible {
    border-color: color-mix(in srgb, var(--primary) 50%, transparent);
    color: var(--primary);
    box-shadow: 0 12px 30px -20px rgba(15, 23, 42, 0.18);
  }

  /* --- NAVIGATION --- */
  .nav-item {
    @apply flex items-center gap-3 px-4 py-3
           text-sm font-medium rounded-lg
           cursor-pointer
           transition-all duration-200
           text-gray-600
           hover:bg-white
           hover:text-gray-900
           hover:shadow-sm;
  }

  .nav-indicator {
    @apply w-2 h-2 rounded-full
           border border-gray-300
           ml-auto
           shrink-0
           transition-colors duration-200;
  }

  .nav-item.active {
    @apply bg-white shadow-sm ring-1 ring-gray-200 text-(--primary);
  }

  .nav-item.active .nav-indicator {
    @apply bg-(--primary-dark) border-(--primary);
  }

  .nav-item:hover .nav-indicator {
    @apply border-(--primary);
  }

  /* --- ICONS --- */
  .icon-soft,
  .icon-box {
    @apply p-2 rounded-lg
           bg-(--primary)/10
           text-(--primary)
           flex items-center justify-center
           transition-colors duration-200;
  }

  .group:hover .icon-box {
    @apply bg-(--primary)/20 text-(--primary-dark);
  }

  /* --- TIMELINE --- */
  .timeline-item {
    @apply relative border-l-2 border-gray-200 pl-8 pb-8 last:pb-0 
           transition-colors duration-300 
           hover:border-(--primary);
    border-color: var(--border);
  }

  .timeline-dot {
    @apply absolute -left-2.25 top-0 h-4 w-4 rounded-full border-2 
           bg-white border-(--primary)/50 
           transition-colors duration-300;
  }
  
  .timeline-item:hover .timeline-dot {
    @apply border-(--primary);
  }

  .timeline-item:hover h3 {
    @apply text-(--primary);
  }

  .timeline-dot.active {
    @apply bg-(--primary) border-(--primary);
  }

  /* --- NAV / HEADER --- */
  .glass-header {
    @apply bg-white/85 backdrop-blur-md border-b;
    border-color: var(--border);
  }
}
